# yandex-reviews-to-md

Простая CLI-утилита для выгрузки отзывов компаний из Яндекс Карт и сохранения их в единый Markdown-файл. Подойдёт для быстрого анализа репутации, подготовки отчётов или архивации пользовательских мнений.

![python](https://img.shields.io/badge/python-3.8%2B-blue)
![license](https://img.shields.io/github/license/baslie/yandex-reviews-to-md)

> **Последняя проверка работоспособности:** 30 ноября 2025, 12:20 МСК

## Возможности

* Принимает **URL** страницы с отзывами или **ID** компании
* Поддерживает разные форматы URL Яндекса (`/maps/org/...` и `/profile/...`)
* Показывает наглядный прогресс: спиннер + tqdm-индикатор при форматировании
* Сохраняет результат в чистом Markdown, удобном для чтения и дальнейшей обработки
* Грамотно обрабатывает Ctrl+C, не оставляя "битых" файлов
* Не требует официального API Яндекса

## Быстрый старт

### Windows (самый простой способ)

1. Установите зависимости:
```bash
pip install yandex_reviews_parser tqdm colorama
```

2. Запустите `run.bat` и введите ссылку или ID компании.

### Командная строка

```bash
# Установка зависимостей
pip install yandex_reviews_parser tqdm colorama

# 1. Выгрузка по URL (новый формат)
python yandex_reviews_to_md.py https://yandex.ru/profile/44307431220

# 2. Выгрузка по URL (старый формат)
python yandex_reviews_to_md.py https://yandex.ru/maps/org/retroznak/44307431220/

# 3. Выгрузка по ID компании
python yandex_reviews_to_md.py 44307431220

# 4. Сохранение в указанный каталог
python yandex_reviews_to_md.py 44307431220 -o ~/Downloads/

# 5. Подробное логирование (без tqdm)
python yandex_reviews_to_md.py 44307431220 --verbose
```

## Поддерживаемые форматы URL

| Формат | Пример |
|--------|--------|
| Новый (profile) | `https://yandex.ru/profile/44307431220` |
| Старый (maps/org) | `https://yandex.ru/maps/org/retroznak/44307431220/` |
| Только ID | `44307431220` |

## Аргументы CLI

| Параметр          | Описание                                    | По умолчанию      |
|-------------------|---------------------------------------------|-------------------|
| `input`           | URL страницы отзывов **или** ID компании    | -                 |
| `-o`, `--output`  | Путь к файлу `.md` **или** каталог-приёмник | `reviews_<id>.md` |
| `-v`, `--verbose` | Показать расширенный лог вместо спиннера    | `False`           |

## Формат выходного файла

```markdown
# Ретрознак

**Рейтинг:** 5.0/5
**Всего голосов:** 148

---

## Отзывы

### 1. Олег — 16.10.2025
**Оценка:** 5/5

Большое спасибо за выполненный заказ. Таблички отлично вписались в интерьер!

> **Ответ компании:** Здравствуйте, Олег! Благодарим за отзыв!

---
```

## Структура проекта

```
yandex-reviews-to-md/
├── yandex_reviews_to_md.py   # Основной скрипт
├── run.bat                   # Запуск для Windows
├── README.md
└── LICENSE
```

## Ограничения

* **Капча**: большое число запросов за короткое время может вызвать анти-бот-проверку Яндекса
* **Приватные отзывы** (доступные только владельцу) не выгружаются
* **Текущий язык** — русский

## Лицензия

Проект распространяется под лицензией **MIT** — см. файл `LICENSE`.
